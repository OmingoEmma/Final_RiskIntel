import pandas as pd
import os

#  Clean structured data
data = [
    {
        "title": "Kenya inflation update",
        "text": "Kenya faces rising inflation amid new fuel subsidies and global instability.",
        "cleaned_text": "kenya face rising inflation amid new fuel subsidy global instability",
        "sentiment_score": 0.06818181818181818,
        "entities": "[('kenya', 'GPE')]"
    },
    {
        "title": "UK economy",
        "text": "Experts say the UK may avoid recession. GDP growth is steady.",
        "cleaned_text": "expert say uk may avoid recession gdp growth steady",
        "sentiment_score": 0.16666666666666666,
        "entities": "[('uk', 'GPE')]"
    },
    {
        "title": "Empty article",
        "text": "",
        "cleaned_text": "",
        "sentiment_score": 0.0,
        "entities": "[]"
    }
]

df = pd.DataFrame(data)

# Save to the expected path
output_path = "../data/processed/analyzed_articles.csv"  # If running from notebook
os.makedirs(os.path.dirname(output_path), exist_ok=True)
df.to_csv(output_path, index=False)

print(" Fixed: 'analyzed_articles.csv' saved successfully.")
df
